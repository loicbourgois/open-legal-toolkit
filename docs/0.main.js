(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "../../../../../node_modules/webpack/buildin/harmony-module.js":
/*!*******************************************!*\
  !*** (webpack)/buildin/harmony-module.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n//# sourceURL=webpack:///(webpack)/buildin/harmony-module.js?");

/***/ }),

/***/ "../pkg/tolt_web.js":
/*!**************************!*\
  !*** ../pkg/tolt_web.js ***!
  \**************************/
/*! exports provided: new_data, Data, __wbindgen_throw */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tolt_web_bg.wasm */ \"../pkg/tolt_web_bg.wasm\");\n/* harmony import */ var _tolt_web_bg_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tolt_web_bg.js */ \"../pkg/tolt_web_bg.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"new_data\", function() { return _tolt_web_bg_js__WEBPACK_IMPORTED_MODULE_1__[\"new_data\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Data\", function() { return _tolt_web_bg_js__WEBPACK_IMPORTED_MODULE_1__[\"Data\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_throw\", function() { return _tolt_web_bg_js__WEBPACK_IMPORTED_MODULE_1__[\"__wbindgen_throw\"]; });\n\n\n\n\n//# sourceURL=webpack:///../pkg/tolt_web.js?");

/***/ }),

/***/ "../pkg/tolt_web_bg.js":
/*!*****************************!*\
  !*** ../pkg/tolt_web_bg.js ***!
  \*****************************/
/*! exports provided: new_data, Data, __wbindgen_throw */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"new_data\", function() { return new_data; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Data\", function() { return Data; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__wbindgen_throw\", function() { return __wbindgen_throw; });\n/* harmony import */ var _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tolt_web_bg.wasm */ \"../pkg/tolt_web_bg.wasm\");\n\n\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\n\nlet cachedTextDecoder = new lTextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetUint8Memory0 = new Uint8Array(_tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n/**\n* @returns {Data}\n*/\nfunction new_data() {\n    var ret = _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"new_data\"]();\n    return Data.__wrap(ret);\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer) {\n        cachegetInt32Memory0 = new Int32Array(_tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"memory\"].buffer);\n    }\n    return cachegetInt32Memory0;\n}\n/**\n*/\nclass Data {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Data.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbg_data_free\"](ptr);\n    }\n    /**\n    * @returns {string}\n    */\n    to_json_str() {\n        try {\n            const retptr = _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_add_to_stack_pointer\"](-16);\n            _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"data_to_json_str\"](retptr, this.ptr);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_add_to_stack_pointer\"](16);\n            _tolt_web_bg_wasm__WEBPACK_IMPORTED_MODULE_0__[\"__wbindgen_free\"](r0, r1);\n        }\n    }\n}\n\nfunction __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n};\n\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/harmony-module.js */ \"../../../../../node_modules/webpack/buildin/harmony-module.js\")(module)))\n\n//# sourceURL=webpack:///../pkg/tolt_web_bg.js?");

/***/ }),

/***/ "../pkg/tolt_web_bg.wasm":
/*!*******************************!*\
  !*** ../pkg/tolt_web_bg.wasm ***!
  \*******************************/
/*! exports provided: memory, __wbg_data_free, new_data, data_to_json_str, __wbindgen_add_to_stack_pointer, __wbindgen_free */
/***/ (function(module, exports, __webpack_require__) {

eval("\"use strict\";\n// Instantiate WebAssembly module\nvar wasmExports = __webpack_require__.w[module.i];\n__webpack_require__.r(exports);\n// export exports from WebAssembly module\nfor(var name in wasmExports) if(name != \"__webpack_init__\") exports[name] = wasmExports[name];\n// exec imports from WebAssembly module (for esm order)\n/* harmony import */ var m0 = __webpack_require__(/*! ./tolt_web_bg.js */ \"../pkg/tolt_web_bg.js\");\n\n\n// exec wasm module\nwasmExports[\"__webpack_init__\"]()\n\n//# sourceURL=webpack:///../pkg/tolt_web_bg.wasm?");

/***/ }),

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var tolt_wasm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tolt_wasm */ \"../pkg/tolt_web.js\");\n\nconst data_wasm = tolt_wasm__WEBPACK_IMPORTED_MODULE_0__[\"new_data\"]();\nconst data = () => {\n  return JSON.parse(data_wasm.to_json_str())\n}\n// console.log(data());\nconst get = (element_id) => {\n  return document.getElementById(element_id)\n}\nconst capitalize = (str) => {\n  return str.replace(/^\\w/, (c) => c.toUpperCase())\n}\nconst go = (path) => {\n  navigation.innerHTML = \"\"\n  for (const i in path) {\n    const href = `?${path[i].id}`\n    const id = `link-${path[i].id}`\n    const text = path[i].text\n    navigation.innerHTML += `<a id=\"${id}\" href=\"${href}\">${text}</a>`\n  }\n  const href = `?${path[path.length-1].id}`\n  // history.pushState(null, null, href)\n}\nconst list_subcommands = (commands) => {\n  subcommands.innerHTML = \"\"\n  for (const i in commands) {\n    const href = `?${commands[i].id}`\n    const id = `link-${commands[i].id}`\n    const text = commands[i].text\n    subcommands.innerHTML += `<a id=\"${id}\" href=\"${href}\">${text}</a>`\n  }\n  const href = `?${commands[commands.length-1].id}`\n  history.pushState(null, null, href)\n}\nconst display = (tool) => {\n  get(tool.id).style.display = 'block'\n}\nconst sas_vs_sarl = {\n  'id': 'sas-or-sarl',\n  'text': 'SAS vs SARL',\n}\nconst cmd_status = {\n  'id': 'status',\n  'text': 'Générateur de status',\n}\nconst world = () => {\n  go([{\n    'id': 'world',\n    'text': 'World',\n  }])\n  list_subcommands([{\n    'id': 'europe',\n    'text': 'Europe',\n  }])\n}\nconst europe = () => {\n  go([{\n    'id': 'world',\n    'text': 'World',\n  },{\n    'id': 'europe',\n    'text': 'Europe',\n  }])\n  list_subcommands([{\n    'id': 'france',\n    'text': 'France',\n  }])\n}\nconst france = () => {\n  go([{\n    'id': 'world',\n    'text': 'World',\n  },{\n    'id': 'europe',\n    'text': 'Europe',\n  },{\n    'id': 'france',\n    'text': 'France',\n  }])\n  list_subcommands([\n    sas_vs_sarl,\n    cmd_status\n  ])\n}\n\n\nconst sas_or_sarl = () => {\n  go([{\n      'id': 'world',\n      'text': 'World',\n    },{\n      'id': 'europe',\n      'text': 'Europe',\n    },{\n      'id': 'france',\n      'text': 'France',\n    },\n    sas_vs_sarl\n  ])\n  display(sas_vs_sarl)\n  let remaining_points = 10\n  const criterias = {\n      html: get('sas-or-sarl-criterias'),\n      data: [{\n        text: \"Je souhaite pouvoir céder mes titres sans agrément.\",\n        details: [\n          \"Clause d’agrément.\",\n          \"Prévue par la loi pour les cessions aux tiers, extension aux autres cessions possibles statutairement (1).\",\n          \"Rien n’est imposé par la loi mais peut être prévue dans les statuts.\",\n        ],\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        }\n    }, {\n        text: \"Je souhaite que la cession des titres soit le plus facile possible et le moins taxé.\",\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        }\n    }, {\n        text: \"Je souhaite avoir une direction collégiale.\",\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        }\n    }, {\n        text: \"Le dirigeant de la société sera une personne morale.\",\n        warnings: [\n          \"Cela est uniquement possible pour une SAS.\"\n        ],\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        },\n        warnings: [\n          \"Uniquement possible pour les SAS.\"\n        ]\n    }, {\n        text: \"Mes statuts doivent m'offrir la plus grande flexibilité pour organiser la gestion de ma société.\",\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        }\n    }, {\n        text: \"Je souhaite ou souhaiterais peut-être créer des catégories d’actionnaires différents.\",\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        },\n        examples: [\n          'Par exemple des actions sans droit de vote pour les investisseurs'\n        ]\n    }, {\n        text: \"Je souhaite avoir la liberté de décider dans les statuts ou le pacte d’associés des conditions de vote lors des assemblées générales ou des majorités pour passer certaines décisions importantes.\",\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        },\n    }, {\n        text: \"Les règles de gestion de mon entreprise sont déjà déterminées par la loi.\",\n        impact: {\n          sas:  -1,\n          sarl: +1,\n        },\n    }, {\n        text: \"Je souhaite créer une société familiale imposé à l’IR.\",\n        impact: {\n          sas:  -1,\n          sarl: +1,\n        },\n    }, {\n        text: \"Je ne veux pas payer de charges sociales sur les dividendes .\",\n        impact: {\n          sas:  +1,\n          sarl: -1,\n        },\n    }]\n  }\n  window.add_one = (criteria_index) => {\n    remaining_points -= 1;\n    criterias.data[criteria_index].score += 1;\n    refresh()\n  }\n  window.remove_one = (criteria_index) => {\n    if (criterias.data[criteria_index].score > 0) {\n      remaining_points += 1;\n      criterias.data[criteria_index].score -= 1;\n      refresh()\n    } else {\n      // todo: warning\n    }\n  }\n  window.toggle_details = (criteria_index) => {\n    criterias.data[criteria_index].show_details *= -1;\n    if (!criterias.data[criteria_index].show_details) {\n      criterias.data[criteria_index].show_details = 1;\n    }\n    refresh()\n  }\n  const refresh = () => {\n    // get('sas-or-sarl-points').innerHTML = remaining_points\n    let total_points = 0;\n    criterias.html.innerHTML = \"\"\n    let scores = {\n      sas:0,\n      sarl:0,\n    }\n    for (const i in criterias.data) {\n      const criteria = criterias.data[i]\n      if (!criteria.score) {\n        criteria.score = 0\n      }\n      total_points += criteria.score\n      scores.sas += criteria.score * criteria.impact.sas\n      scores.sarl += criteria.score * criteria.impact.sarl\n      // TODO: use an input for the points\n      const id = `criteria-${i}-points`\n      let highlight_points = \"no-highlight-points\"\n      if (criteria.score > 0) {\n        highlight_points = \"highlight-points\"\n      }\n      let details_button = \"<button style='background:transparent'></button>\"\n      if (criteria.details && criteria.details.length > 0) {\n        details_button = `<button onclick=toggle_details('${i}') class=button-details>?</button>`\n      }\n      criterias.html.innerHTML += `\n        <div class=\"criteria-wrapper\">\n          <button id=${id} class=\"${highlight_points}\">${criteria.score}</button>\n          <button onclick=add_one('${i}')     class=add-one>+</button>\n          <button onclick=remove_one('${i}')  class=remove-one>-</button>\n          ${details_button}\n          <div class=\"criteria\">${criteria.text}</div>\n        </div>`\n      if (criteria.show_details === 1) {\n        for (const i_details in criteria.details) {\n          const d = criteria.details[i_details]\n          criterias.html.innerHTML += `\n          <div class=\"criteria-wrapper explanation\">\n            <button ></button>\n            <button ></button>\n            <button ></button>\n            <button ></button>\n            <div class=\"criteria\">${d}</div>\n          </div>`\n        }\n      }\n\n      if (criteria.score > 0) {\n        for (const i_warning in criteria.warnings) {\n          const text = criteria.warnings[i_warning]\n          criterias.html.innerHTML += `\n          <div class=\"criteria-wrapper explanation\">\n            <button ></button>\n            <button ></button>\n            <button ></button>\n            <button ></button>\n            <div class=\"criteria\">⚠️ ${text}</div>\n          </div>`\n        }\n      }\n    }\n    const response = get('sas-or-sarl-response')\n    console.log(scores)\n    if (total_points === 0) {\n      response.innerHTML = \"Merci de sélectionner des critères pour générer une réponse.\"\n    } else if (scores.sas > scores.sarl) {\n      response.innerHTML = \"Une SAS semble plus adaptée à vos besoin.\"\n    } else if (scores.sas < scores.sarl) {\n      response.innerHTML = \"Une SARL semble plus adaptée à vos besoin.\"\n    } else if (scores.sas === scores.sarl) {\n      response.innerHTML = \"Difficile de choisir. Pouvez-vous ajouter des critères ?\"\n    }\n\n  }\n  refresh()\n}\n\nconst status = () => {\n  go([{\n    'id': 'world',\n    'text': 'World',\n  },{\n    'id': 'europe',\n    'text': 'Europe',\n  },{\n    'id': 'france',\n    'text': 'France',\n  },{\n    'id': 'status',\n    'text': 'Générateur de status',\n  }])\n}\nconst default_ = () => {\n  france()\n}\nconst commands = {\n  'world': world,\n  'europe': europe,\n  'france': france,\n  'sas-or-sarl': sas_or_sarl,\n  'status': status,\n  'default': default_\n}\nfor (const command in commands) {\n  if (!document.getElementById(command)) {\n    // console.error(`no element for ${command}`);\n  }\n}\nArray.prototype.forEach.call( document.querySelectorAll('[id]'), function(html_element, i) {\n  if (commands[html_element.id]) {\n    if (html_element.localName === \"button\") {\n      html_element.onclick = () => {\n        // console.log(html_element)\n      }\n    }\n  } else {\n    //console.error(`no command for ${html_element.id}`);\n  }\n});\nconst id = window.location.search.substring(1)\nconst div = document.getElementById(id);\nconsole.log(\"id\", id)\nif (id) {\n  commands[id]()\n} else {\n  commands['default']()\n}\n\n\n//# sourceURL=webpack:///./index.js?");

/***/ })

}]);